<!DOCTYPE html>
<html>

<head>
    <title>Rockets Launch sequence</title>
    <link rel="stylesheet" type="text/css" href="css/rocket.css">
</head>

<script>
    var state = 0;
    var countdownNumber = 10;
    var timer = null;

    // Function to change the state of the body class
    function changeState(state) {
        document.body.className = 'body-state' + state;
        clearInterval(timer);
        countdownNumber = 10;
        document.getElementById('countdown').innerHTML = countdownNumber;
        countdownNumber = countdownNumber - 1;

        //state 2
        if (state == 2) {
            timer = setInterval(function () {
                countdownNumber = countdownNumber - 1;
                document.getElementById('countdown').innerHTML = countdownNumber;

                //state 3
                if (countdownNumber <= 0) {
                    changeState(3);
                }

                //success
                if (countdownNumber > 4 && countdownNumber <= 7) {
                    //cant-wait
                    document.getElementById('nervous').className = 'nervous show';
                }
                else {
                    document.getElementById('nervous').className = 'nervous';
                }

                if (countdownNumber > 1 && countdownNumber <= 4) {
                    //nervous
                    document.getElementById('cant-wait').className = 'cant-wait show';
                }
                else {
                    document.getElementById('cant-wait').className = 'cant-wait';
                }
            }, 500);
        }
        //state 4-5
        else if (state == 3) {
            var success = setTimeout(function () {
                var randomNumber = Math.round(Math.random() * 10);
                console.log('randomNumber:', randomNumber)
                if (randomNumber > 5) {
                    //do somthing
                    changeState(4)
                }
                else {
                    //do somthing else
                    changeState(5)
                }
            }, 2000)
        }
    }

</script>

<body class="body-state1">
    <div class="left">
        <div class="interface state1">
            <h1>JS Rocket Lacnuch!</h1>
            <a href="#" class="button" onclick="changeState(2);">Launch!</a>
        </div>
        <div class="interface state2">
            <h1 id="countdown">10</h1>
            <a href="#" onclick="changeState(1);">Abort!</a>
        </div>
        <div class="interface state3">
            <h1>Lift off!</h1>
        </div>
        <div class="interface state4">
            <h1>Well done!</h1>
            <a href="#" onclick="changeState(2);">Do it agian!</a>
        </div>
        <div class="interface state5">
            <h1>Oh no!</h1>
            <a href="#" class="button" onclick="changeState(2);">Try agian!</a>
        </div>
    </div>

    <div class="right">
        <div class="ground"></div>
        <div class="rocket"></div>
        <div class="nervous" id="nervous"></div>
        <div class="cant-wait" id="cant-wait"></div>
    </div>

</body>

</html>